import{_ as t,o as e,c as s,ag as i}from"./chunks/framework.BnOSF0Yy.js";const m=JSON.parse('{"title":"Commit 规范","description":"","frontmatter":{},"headers":[],"relativePath":"guide/commit-conventions.md","filePath":"zh/guide/commit-conventions.md"}'),o={name:"guide/commit-conventions.md"};function n(l,a,d,p,c,r){return e(),s("div",null,[...a[0]||(a[0]=[i(`<h1 id="commit-规范" tabindex="-1">Commit 规范 <a class="header-anchor" href="#commit-规范" aria-label="Permalink to &quot;Commit 规范&quot;">​</a></h1><p>良好的 commit message 是项目可维护性的基石。它让每一次修改都有迹可循，让协作者能快速理解变更的目的。</p><h2 id="conventional-commits" tabindex="-1">Conventional Commits <a class="header-anchor" href="#conventional-commits" aria-label="Permalink to &quot;Conventional Commits&quot;">​</a></h2><p>本指南推荐使用 <a href="https://www.conventionalcommits.org/" target="_blank" rel="noreferrer">Conventional Commits</a> 规范，格式如下：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>&lt;type&gt;(&lt;scope&gt;): &lt;description&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[可选的正文]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[可选的脚注]</span></span></code></pre></div><h3 id="type-类型" tabindex="-1">type（类型） <a class="header-anchor" href="#type-类型" aria-label="Permalink to &quot;type（类型）&quot;">​</a></h3><table tabindex="0"><thead><tr><th>类型</th><th>说明</th></tr></thead><tbody><tr><td><code>feat</code></td><td>新功能</td></tr><tr><td><code>fix</code></td><td>修复 Bug</td></tr><tr><td><code>docs</code></td><td>文档修改</td></tr><tr><td><code>style</code></td><td>代码格式（不影响逻辑）</td></tr><tr><td><code>refactor</code></td><td>重构（既不是新功能也不是修复）</td></tr><tr><td><code>test</code></td><td>添加或修改测试</td></tr><tr><td><code>chore</code></td><td>构建工具、依赖管理等杂项</td></tr><tr><td><code>ci</code></td><td>CI/CD 配置修改</td></tr></tbody></table><h3 id="scope-范围" tabindex="-1">scope（范围） <a class="header-anchor" href="#scope-范围" aria-label="Permalink to &quot;scope（范围）&quot;">​</a></h3><p>可选，用括号包裹，表示本次修改影响的模块或范围：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>feat(auth): add OAuth2 login</span></span>
<span class="line"><span>fix(parser): handle empty input</span></span>
<span class="line"><span>docs(readme): update installation guide</span></span></code></pre></div><h3 id="description-描述" tabindex="-1">description（描述） <a class="header-anchor" href="#description-描述" aria-label="Permalink to &quot;description（描述）&quot;">​</a></h3><p>简短描述本次修改的内容，注意：</p><ul><li>使用英文，首字母小写</li><li>不加句号结尾</li><li>使用祈使语气（add 而不是 added）</li><li>控制在 50 个字符以内</li></ul><h2 id="好的-vs-坏的-commit-message" tabindex="-1">好的 vs 坏的 commit message <a class="header-anchor" href="#好的-vs-坏的-commit-message" aria-label="Permalink to &quot;好的 vs 坏的 commit message&quot;">​</a></h2><h3 id="好的示例" tabindex="-1">好的示例 <a class="header-anchor" href="#好的示例" aria-label="Permalink to &quot;好的示例&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>feat: add user avatar upload</span></span>
<span class="line"><span>fix(api): prevent null pointer on empty response</span></span>
<span class="line"><span>docs: add contributing guidelines</span></span>
<span class="line"><span>refactor: extract validation logic into utils</span></span></code></pre></div><h3 id="坏的示例" tabindex="-1">坏的示例 <a class="header-anchor" href="#坏的示例" aria-label="Permalink to &quot;坏的示例&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>update                          # 完全没有信息量</span></span>
<span class="line"><span>fix bug                         # 修了什么 bug？</span></span>
<span class="line"><span>1                               # ???</span></span>
<span class="line"><span>修改了一些东西                    # 中文且无意义</span></span>
<span class="line"><span>add file                        # 加了什么文件？为什么？</span></span>
<span class="line"><span>WIP                             # 不应该提交未完成的工作</span></span></code></pre></div><h2 id="每次提交只做一件事" tabindex="-1">每次提交只做一件事 <a class="header-anchor" href="#每次提交只做一件事" aria-label="Permalink to &quot;每次提交只做一件事&quot;">​</a></h2><p>一个 commit 应该是一个<strong>原子操作</strong>——只做一件事，且做完整。</p><div class="danger custom-block"><p class="custom-block-title">反面案例</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>feat: add search, fix login bug, update readme, refactor utils</span></span></code></pre></div><p>这种把多个不相关修改塞进一个 commit 的做法，会让 <code>git log</code>、<code>git bisect</code>、<code>git revert</code> 全部失效。</p></div><h2 id="写好-commit-message-的原则" tabindex="-1">写好 commit message 的原则 <a class="header-anchor" href="#写好-commit-message-的原则" aria-label="Permalink to &quot;写好 commit message 的原则&quot;">​</a></h2><ol><li><strong>说&quot;为什么&quot;而不是&quot;做了什么&quot;</strong>：代码 diff 已经说明了你做了什么，commit message 应该解释为什么要这样做</li><li><strong>面向未来的读者</strong>：想象半年后有人在 <code>git log</code> 里看到这条记录，他能理解吗？</li><li><strong>保持一致性</strong>：整个项目应该使用统一的 commit 风格</li></ol><h2 id="借助-ai-辅助撰写" tabindex="-1">借助 AI 辅助撰写 <a class="header-anchor" href="#借助-ai-辅助撰写" aria-label="Permalink to &quot;借助 AI 辅助撰写&quot;">​</a></h2><p>手动写 commit message 对新手来说可能有些困难。好消息是，主流工具已经内置了 AI 辅助功能，可以根据你的代码改动自动生成符合规范的 commit message。</p><h3 id="vscode-github-copilot" tabindex="-1">VSCode（GitHub Copilot） <a class="header-anchor" href="#vscode-github-copilot" aria-label="Permalink to &quot;VSCode（GitHub Copilot）&quot;">​</a></h3><p>VSCode 的源代码管理面板（Source Control）集成了 Copilot：</p><ol><li>在左侧 Source Control 面板中暂存你的改动</li><li>点击 commit message 输入框右侧的 <strong>sparkle 图标</strong>（Copilot 图标）</li><li>Copilot 会根据暂存的 diff 自动生成 commit message</li><li>检查并修改生成的内容，确认无误后提交</li></ol><h3 id="github-desktop-ai-生成" tabindex="-1">GitHub Desktop（AI 生成） <a class="header-anchor" href="#github-desktop-ai-生成" aria-label="Permalink to &quot;GitHub Desktop（AI 生成）&quot;">​</a></h3><p>GitHub Desktop 同样支持 AI 辅助：</p><ol><li>在左侧勾选要提交的文件</li><li>点击 Summary 输入框右侧的 <strong>sparkle 图标</strong></li><li>GitHub Desktop 会自动分析改动并生成 commit message</li><li>你可以在此基础上修改，然后点击 Commit</li></ol><h3 id="pr-描述也可以用-ai-生成" tabindex="-1">PR 描述也可以用 AI 生成 <a class="header-anchor" href="#pr-描述也可以用-ai-生成" aria-label="Permalink to &quot;PR 描述也可以用 AI 生成&quot;">​</a></h3><p>在 GitHub 网页上创建 Pull Request 时，描述框同样提供了 Copilot 辅助：</p><ul><li>点击 PR 描述框中的 <strong>Copilot 图标</strong></li><li>Copilot 会根据本次 PR 包含的所有 commit 自动生成描述</li><li>生成的描述通常包含修改内容摘要和关键改动列表</li></ul><div class="warning custom-block"><p class="custom-block-title">注意</p><p>AI 生成的内容只是起点，不要盲目接受。你应该：</p><ul><li>检查生成的 type 是否正确（是 <code>feat</code> 还是 <code>fix</code>？）</li><li>确认描述是否准确反映了你的修改意图</li><li>补充 AI 无法推断的上下文（比如&quot;为什么&quot;要做这个改动）</li></ul></div><h2 id="下一步" tabindex="-1">下一步 <a class="header-anchor" href="#下一步" aria-label="Permalink to &quot;下一步&quot;">​</a></h2><p>commit 写好了，接下来看看如何规范地提交 <a href="./pull-request.html">Pull Request</a>。</p>`,37)])])}const u=t(o,[["render",n]]);export{m as __pageData,u as default};
